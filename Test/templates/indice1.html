<!DOCTYPE html>


<html>
<head>
  <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.3.1/leaflet.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.3.1/leaflet.js"></script>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet-easybutton@2/src/easy-button.css">
	<link rel="stylesheet" type="text/css" href="https://unpkg.com/leaflet@1.0.2/dist/leaflet.css">
	<script src="https://cdn.jsdelivr.net/npm/leaflet-easybutton@2/src/easy-button.js"></script>
	
	
	
	
	library(leaflet)
	library(htmltools)
	library(htmlwidgets)
  <style>
    #map {position: absolute; top: 0; right: 0; bottom: 0; left: 0;}
		.button-action{
			height: 52px;
			width: 52px;
			text-decoration: none;
			text-align: center;
			color: white;
			background: url('https://drive.google.com/open?id=1YnqLNDbk6bnCo03Bac0VRxhbpH84rDGw/view') no-repeat;
			font-family: Minecraft;
			line-height: -556px;
			padding-top: 66px;
        }

   
		
		}
  </style>
</head>
<body>

  <div id="map">
	
		</div> 
		<p><a href="https://www.maptiler.com/copyright/" target="_blank">© MapTiler</a> <a href="https://www.openstreetmap.org/copyright" target="_blank">© OpenStreetMap contributors</a></p>
		

  <script>
//

  var map = L.map('map').setView([39, 17], 1);
			L.tileLayer('https://api.maptiler.com/maps/streets/{z}/{x}/{y}.png?key=RER3NPprKSBW68ytumbh',{
			tileSize: 512,
			zoomOffset:-1,
			minZoom: 7,
			//attribution: '<a href="https://www.maptiler.com/copyright/" target="_blank">© MapTiler</a> <a href="https://www.openstreetmap.org/copyright" target="_blank">© OpenStreetMap contributors</a>',
			crossOrigin: true
			}).addTo(map);

			map.setZoom(7);

	
	

			L.control.scale().addTo(map);
var polyline = L.polyline([[37.9,15.62],[37.9,17.22],[40.15,17.22],[40.15,15.62],[37.9,15.62]], {color: 'red', dashArray: '20,15', lineJoin: 'round'}).addTo(map);
//drawline([37.9,15.62],[37.9,17.2],[40.1,17.2],[40.1,15.62],[37.9,15.62]);
console.log("{{messaggio}}");
var latitudine;
var longitudine;
latitudine=parseFloat("{{coord1}})");
longitudine=parseFloat("{{coord2}})");
console.log(latitudine);
console.log(longitudine);		

var Mmarker = new L.Marker([latitudine,longitudine]).addTo(map);
function wait(ms){
   var start = new Date().getTime();
   var end = start;
   while(end < start + ms) {
     end = new Date().getTime();
  }
}
wait(5000);
alert("{{messaggio}}");

  </script>
</body>
</html>
	